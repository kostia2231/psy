---
// import { Image } from "astro:assets";
// import ProfileImg from "../assets/IMG_2406.png";
import Button from "./Button.astro";
---

<div
    id="main"
    class="h-[50vh] w-full flex flex-col relative yellow main p-10 max-[600px]:p-5 max-[600px]:h-[100vh]"
>
    <div
        class="flex flex-col mt-auto w-fit gap-2.5 z-1 max-[600px]:w-full max-[600px]:mt-0"
    >
        <h1>Марія <br class="max-[600px]:block hidden" /> Пархоменко</h1>

        <p class="text w-[50vw] max-[600px]:w-full max-[600px]:mb-5">
            лікарка, сертифікована гештальт-терапевтка, ведуча терапевтичних
            груп
        </p>

        <div class="min-[600px]:hidden">
            <Button />
        </div>
        <div
            class="transform overflow-hidden rounded-[10px] flex justify-center items-center w-full mt-5 min-[600px]:hidden"
        >
            <!-- <Image src={ProfileImg} alt="profile image" class="h-[70hv]" /> -->
            <div class="mr-auto">
                <img
                    id="imageMainMobile"
                    src="../images/IMG_2406.png"
                    alt=""
                    class="w-full object-cover rounded-[10px] transition-transform duration-500 ease-out will-change-transform origin-top-left"
                    style="transform: scale(1);"
                />
            </div>
        </div>
    </div>
</div>

<script is:inline>
    window.addEventListener("scroll", () => {
        const image = document.getElementById("imageMainMobile");
        if (!image) return;

        const scrollY = window.scrollY;
        const maxScroll = 300;

        if (scrollY === 0) {
            image.style.transform = "scale(1)";
            return;
        }

        // const clampedScroll = Math.min(scrollY, maxScroll);
        const scale = 1 - 0.1;
        image.style.transform = `scale(${scale})`;
    });
</script>

<div class="min-[600px]:hidden">
    <label class="hb-menu">
        <input type="checkbox" />
    </label>

    <aside class="slidebar flex flex-col h-[100vh]">
        <nav class="p-2.5 flex flex-col">
            <div class="flex flex-col justify-between h-[100dvh]">
                <div class="flex flex-col gap-5 overflow-x-hidden">
                    <h1 id="toAboutMobile" class="w-fit">Про мене</h1>
                    <h1 id="toPriceMobile" class="w-fit">Умови</h1>
                    <h1 id="toEducationMobile" class="w-fit">
                        Освіта і підготовка
                    </h1>
                    <h1 id="toGroupsMobile" class="w-fit">
                        Групи і майстер-класи
                    </h1>
                    <h1 id="toContactsMobile" class="w-fit">Контакти</h1>
                </div>

                <div class="flex justify-between mb-10">
                    <h1 class="w-fit">IG</h1>
                    <h1 class="w-fit">TG</h1>
                    <h1 class="w-fit">E-Mail</h1>
                </div>
            </div>
        </nav>
    </aside>
</div>

<script is:inline>
    const instantScrollTo = (id) => {
        const target = document.getElementById(id);
        if (!target || !window.lenisInstance) return;
        window.lenisInstance.scrollTo(target, { immediate: true });
    };

    const scrollToSection = (id) => {
        instantScrollTo(id);
        setTimeout(() => {
            document.documentElement.classList.add("visible");
            history.replaceState(null, null, window.location.pathname);
        }, 100);
    };

    const closeBurger = () => {
        const burger = document.querySelector(".hb-menu input");
        if (burger) burger.checked = false;
    };

    const addMenuClickHandler = (buttonId, sectionId) => {
        document.getElementById(buttonId)?.addEventListener("click", (e) => {
            e.preventDefault();
            document.documentElement.classList.remove("visible");
            closeBurger();
            scrollToSection(sectionId);
        });
    };

    addMenuClickHandler("toAboutMobile", "about");
    addMenuClickHandler("toPriceMobile", "price");
    addMenuClickHandler("toEducationMobile", "education");
    addMenuClickHandler("toGroupsMobile", "groups");
    addMenuClickHandler("toContactsMobile", "contacts");

    window.addEventListener("DOMContentLoaded", () => {
        const hash = window.location.hash;
        if (hash) {
            const id = hash.substring(1);
            instantScrollTo(id, 80);
            history.replaceState(null, null, window.location.pathname);
        }
        document.documentElement.classList.add("visible");
    });
</script>
